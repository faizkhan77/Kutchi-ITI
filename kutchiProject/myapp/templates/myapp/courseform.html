{% extends 'base.html' %}

{% block content %}

{% load static %}

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Student Form</title>
<!-- Add Bootstrap 5 CSS link here -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        .courseform{
            margin-left: 120px
        }
    </style>

    <div class="courseform">
        <div class="container mt-5">
            
            {% if page == "addcourse" %}
                <h3>Add a new Course</h3>
            {% else %}
                <h3>Edit Course</h3>
            {% endif %}
                
            <form method="POST">
                {% csrf_token %}

                <div class="mb-3">
                    <label for="coursename" class="form-label">Course Name</label>
                    <input type="text" class="form-control" id="coursename" name="coursename" value="{{ form.instance.coursename }}">
                </div>
         
                <div class="mb-3">
                    <label for="coursedetails" class="form-label">Course Details</label>
                    <textarea class="form-control" id="coursedetails" name="coursedetails" rows="10">{{ form.instance.coursedetails }}</textarea>
                </div>

                <div class="mb-3">
                    <label for="courseduration" class="form-label">Course Duration</label>
                    <input type="number" class="form-control" id="courseduration" name="courseduration" value="{{ form.instance.courseduration }}">
                </div>
     
                <div class="mb-3">
                    <label for="coursefees" class="form-label">Course Fees</label>
                    <input type="number" class="form-control" id="coursefees" name="coursefees" value="{{ form.instance.coursefees }}">
                </div>
      
                <div class="mb-3">
                    <label for=" file_path" class="form-label">Syllabus PDF</label>
                    {{ form.file_path }}
                </div>

                <div class="mb-3">
                    <label for=" file_path" class="form-label">Upload Image 1</label>
                    {{ form.image_1 }}
                </div>

                <div class="mb-3">
                    <label for=" file_path" class="form-label">Upload Image 2</label>
                    {{ form.image_2 }}
                </div>

                <div class="mb-3">
                    <label for=" file_path" class="form-label">Upload Image 3</label>
                    {{ form.image_3 }}
                </div>

                <div class="mb-3">
                    <label for=" file_path" class="form-label">Upload Image 4</label>
                    {{ form.image_4 }}
                </div>
                {% comment %} <div class="mb-3">
                    <label for="image_path" class="form-label">Selected Image</label>
                    <p id="selected-image">{{ form.image_path.value }}</p>
                    <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#imageModal">
                        Select Image
                    </button>
                </div> {% endcomment %}
    
                <button type="submit" class="btn btn-primary">Submit</button>
            </form>

            {% comment %} <!-- Image Selection Modal -->
<div class="modal fade" id="imageModal" tabindex="-1" aria-labelledby="imageModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="imageModalLabel">Select Image</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                {% for image in image_files %}
                    <img src="{% static 'images/course-images/' %}{{ image }}" alt="{{ image }}" class="img-thumbnail" style="cursor: pointer;" onclick="selectImage('{{ image }}')">
                {% endfor %}
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div> {% endcomment %}
        </div>
    
        <!-- Add Bootstrap 5 JS and Popper.js scripts here -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    {% comment %} </div>
    <script>
        function selectImage(image) {
            document.getElementById('selected-image').innerHTML = image;
            document.getElementById('id_image_path').value = image;
            $('#imageModal').modal('hide');
        }
    </script> {% endcomment %}
{% endblock content %}
{% block footer %}{% endblock footer %}
